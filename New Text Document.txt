PROMPT: FULL PROJECT AUDIT & CLEANUP (DESTRUCTIVE-SAFE)

You are a senior software auditor.

Your task is to audit, classify, and clean this codebase without breaking the live app.

OBJECTIVE

Reduce the project to only files that are actively used, correct, and current.

HARD RULES

❌ Do NOT delete anything yet

❌ Do NOT refactor logic

❌ Do NOT assume intent

✅ Everything must be provable by references

✅ If unsure → mark as UNKNOWN, not safe

PHASE 1 — BUILD THE SOURCE OF TRUTH

Identify and list:

The actual entry points (apps/scripts that are run)

The current database schema(s) in use

The current strategy/backtest pipeline

The files imported at runtime

Output:

SOURCE_OF_TRUTH/
  entry_points:
  db_tables_used:
  critical_modules:

PHASE 2 — FILE CLASSIFICATION (MANDATORY)

Scan every file and classify into exactly one bucket:

ACTIVE

Imported by an entry point

Or writes to DB tables in use

DEPRECATED

Older version of an ACTIVE file

Superseded by newer filename / schema / logic

EXPERIMENTAL

Grid search, tests, one-offs, research scripts

Not used by production

ORPHANED

Never imported

No DB writes used

No references anywhere

UNKNOWN / RISK

Unclear purpose

Partial overlap

Needs human confirmation

Output a table:

file | category | why | referenced_by | safe_to_delete (yes/no)

PHASE 3 — DUPLICATE & VERSION COLLAPSE

Detect:

Multiple files doing the same thing

v1 / v2 / final / fixed / backup patterns

Same logic under different names

For each group:

Recommend ONE canonical file

Mark others as DEPRECATED

PHASE 4 — CLEANUP PLAN (NO EXECUTION)

Produce:

A delete list (safe)

A quarantine list (move to /archive)

A keep list (must not touch)

Include:

DELETE/
ARCHIVE/
KEEP/

PHASE 5 — SAFETY CHECK

Before final output, verify:

App can still start

DB schema dependencies remain intact

No imports are broken

If not provable → STOP and flag.

OUTPUT FORMAT (STRICT)

Source of Truth summary

File classification table

Duplicate collapse recommendations

Cleanup plan

Explicit questions for the human (me)

Reply only with the audit results.
Do not execute deletions.
Accuracy > speed.